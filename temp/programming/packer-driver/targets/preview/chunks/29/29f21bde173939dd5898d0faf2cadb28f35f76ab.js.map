{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/assets/AddImage/script/AddImage.ts"],"names":["_decorator","Component","instantiate","Button","UITransform","Sprite","AS","UIPopup","ReplicatedButton","ccclass","property","requireComponent","AddImage","_button","awake","getComponent","node","addComponent","_addEventListeners","insertButtonsComp","popup","children","forEach","child","i","on","EventType","CLICK","isVisible","hide","_selectedOption","parent","position","height","width","destroy","_onButtonClick","_removeEventListeners","off","show"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAgBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAiBC,MAAAA,M,OAAAA,M;;AAClEC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,O,iBAAAA,O;;AACAC,MAAAA,gB,iBAAAA,gB;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,QAAX;AAAqBC,QAAAA;AAArB,O,GAA0CX,U;;0BAInCY,Q,WAFZH,OAAO,CAAC,UAAD,C,UACPE,gBAAgB,CAACR,MAAD,C,UAGZO,QAAQ;AAAA;AAAA,6B,UACRA,QAAQ,CAACL,MAAD,C,0CALb,MAEaO,QAFb,SAE8B;AAAA;AAAA,oBAAGX,SAAH,CAF9B,CAE4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAKhCY,OALgC,GAKP,IALO;AAAA;;AASxCC,QAAAA,KAAK,GAAG;AAAA;;AACJ,eAAKD,OAAL,GAAe,KAAKE,YAAL,CAAkBZ,MAAlB,CAAf;AACA,eAAKa,IAAL,CAAUC,YAAV;AAAA;AAAA;;AACA,eAAKC,kBAAL;;AACA,cAAMC,iBAAiB,GAAG,KAAKC,KAAL,CAAWJ,IAAX,CAAgBK,QAA1C;AACAF,UAAAA,iBAAiB,CAACG,OAAlB,CAA0B,CAACC,KAAD,EAAQC,CAAR,KAAc;AAChCD,YAAAA,KAAK,CAACN,YAAN,CAAmBd,MAAnB;AACAoB,YAAAA,KAAK,CAACN,YAAN;AAAA;AAAA;AAEAM,YAAAA,KAAK,CAACE,EAAN,CAAStB,MAAM,CAACuB,SAAP,CAAiBC,KAA1B,iCAAiC,aAAY;AACzC,kBAAI,KAAI,CAACP,KAAL,CAAWQ,SAAf,EAA0B,MAAM,KAAI,CAACR,KAAL,CAAWS,IAAX,EAAN;;AAC1B,kBAAIC,eAAe,GAAG5B,WAAW,CAACqB,KAAD,CAAjC;;AACAO,cAAAA,eAAe,CAACC,MAAhB,GAAuB,KAAI,CAACf,IAA5B;AACAc,cAAAA,eAAe,CAACE,QAAhB,GAAyB,KAAI,CAAChB,IAAL,CAAUgB,QAAnC;AACAF,cAAAA,eAAe,CAACf,YAAhB,CAA6BX,WAA7B,EAA0C6B,MAA1C,GAAiD,KAAI,CAACjB,IAAL,CAAUD,YAAV,CAAuBX,WAAvB,EAAoC6B,MAArF;AACAH,cAAAA,eAAe,CAACf,YAAhB,CAA6BX,WAA7B,EAA0C8B,KAA1C,GAAgD,KAAI,CAAClB,IAAL,CAAUD,YAAV,CAAuBX,WAAvB,EAAoC8B,KAApF;;AACAJ,cAAAA,eAAe,CAACf,YAAhB,CAA6BZ,MAA7B,EAAqCgC,OAArC;;AACAZ,cAAAA,KAAK,CAACF,QAAN;AAEH,aAVD;AAWP,WAfD;AAgBH;;AAEOH,QAAAA,kBAAkB,GAAG;AACzB,eAAKL,OAAL,CAAaG,IAAb,CAAkBS,EAAlB,CAAqBtB,MAAM,CAACuB,SAAP,CAAiBC,KAAtC,EAA6C,KAAKS,cAAlD,EAAkE,IAAlE;AACH;;AAEOC,QAAAA,qBAAqB,GAAG;AAC5B,eAAKxB,OAAL,CAAaG,IAAb,CAAkBsB,GAAlB,CAAsBnC,MAAM,CAACuB,SAAP,CAAiBC,KAAvC,EAA8C,KAAKS,cAAnD,EAAmE,IAAnE;AACH;;AAEOA,QAAAA,cAAc,GAAG;AACrB,eAAKhB,KAAL,CAAWmB,IAAX;AACH;;AA1CuC,O;;;;;iBAEC,I;;;;;;;iBACQ,E","sourcesContent":["import { _decorator, Component, Node,instantiate, Button, UITransform, UI, Sprite, sp } from 'cc';\nimport { AS } from \"db://as_framework/scripts//ASComponent\";\nimport { UIPopup } from \"db://as_framework/scripts/UIPopup\";\nimport { ReplicatedButton } from \"db://as_framework/scripts/ReplicatedButton\";\nconst { ccclass, property, requireComponent } = _decorator;\n\n@ccclass('AddImage')\n@requireComponent(Button)\nexport class AddImage extends AS(Component) {\n\n    @property(UIPopup) popup: UIPopup|null = null;\n    @property(Sprite) private optionSprite: Sprite[]=[];\n\n    private _button: Button | null = null;\n\n\n\n    awake() {\n        this._button = this.getComponent(Button);\n        this.node.addComponent(ReplicatedButton);\n        this._addEventListeners();\n        const insertButtonsComp = this.popup.node.children\n        insertButtonsComp.forEach((child, i) => {\n                child.addComponent(Button);\n                child.addComponent(ReplicatedButton);\n\n                child.on(Button.EventType.CLICK, async () => {\n                    if (this.popup.isVisible) await this.popup.hide();\n                    let _selectedOption = instantiate(child);\n                    _selectedOption.parent=this.node;\n                    _selectedOption.position=this.node.position;\n                    _selectedOption.getComponent(UITransform).height=this.node.getComponent(UITransform).height;\n                    _selectedOption.getComponent(UITransform).width=this.node.getComponent(UITransform).width;\n                    _selectedOption.getComponent(Button).destroy();\n                    child.children\n\n                })\n        })\n    }\n\n    private _addEventListeners() {\n        this._button.node.on(Button.EventType.CLICK, this._onButtonClick, this);\n    }\n\n    private _removeEventListeners() {\n        this._button.node.off(Button.EventType.CLICK, this._onButtonClick, this);\n    }\n\n    private _onButtonClick() {\n        this.popup.show();\n    }\n\n}\n\n"]}