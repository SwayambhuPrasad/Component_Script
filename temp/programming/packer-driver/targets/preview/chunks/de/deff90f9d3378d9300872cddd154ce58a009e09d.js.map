{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/extensions/as_framework/framework/assets/scripts/Blackboard.ts"],"names":["Blackboard","Director","director","SimpleEvent","constructor","_data","_changedEvent","on","EVENT_AFTER_SCENE_LAUNCH","changedEvent","expose","get","key","set","newVal","oldVal","trigger","blackboard"],"mappings":";;;+DAGMA,U;;;;;;;;;;;AAHGC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,Q,OAAAA,Q;;AACVC,MAAAA,W,iBAAAA,W;;;;;;;AAEHH,MAAAA,U,GAAN,MAAMA,UAAN,CAAiB;AAKfI,QAAAA,WAAW,GAAG;AAAA,eAJNC,KAIM,GAJuB,EAIvB;AAAA,eAFNC,aAEM,GAFU;AAAA;AAAA,2CAEV;AACZJ,UAAAA,QAAQ,CAACK,EAAT,CAAYN,QAAQ,CAACO,wBAArB,EAA+C,MAAM;AACnD,iBAAKH,KAAL,GAAa,EAAb;AACD,WAFD;AAGD;;AAEe,YAAZI,YAAY,GAAG;AACjB,iBAAO,KAAKH,aAAL,CAAmBI,MAAnB,EAAP;AACD;;AAEDC,QAAAA,GAAG,CAACC,GAAD,EAAc;AACf,iBAAO,KAAKP,KAAL,CAAWO,GAAX,CAAP;AACD;;AAEDC,QAAAA,GAAG,CAACD,GAAD,EAAcE,MAAd,EAA2B;AAC5B,cAAIA,MAAM,KAAK,KAAKT,KAAL,CAAWO,GAAX,CAAf,EAAgC;AAChC,cAAMG,MAAM,GAAG,KAAKV,KAAL,CAAWO,GAAX,CAAf;AACA,eAAKP,KAAL,CAAWO,GAAX,IAAkBE,MAAlB;;AACA,eAAKR,aAAL,CAAmBU,OAAnB,CAA2B;AAAEJ,YAAAA,GAAF;AAAOG,YAAAA,MAAP;AAAeD,YAAAA;AAAf,WAA3B;AACD;;AAxBc,O;;4BA2BJG,U,GAAa,IAAIjB,UAAJ,E","sourcesContent":["import { Director, director } from \"cc\";\nimport { SimpleEvent } from \"./LiteEvent\";\n\nclass Blackboard {\n  private _data: Record<string, any> = {};\n\n  private _changedEvent = new SimpleEvent<{ key: string; oldVal: any; newVal: any }>();\n\n  constructor() {\n    director.on(Director.EVENT_AFTER_SCENE_LAUNCH, () => {\n      this._data = {};\n    });\n  }\n\n  get changedEvent() {\n    return this._changedEvent.expose();\n  }\n\n  get(key: string) {\n    return this._data[key];\n  }\n\n  set(key: string, newVal: any) {\n    if (newVal === this._data[key]) return;\n    const oldVal = this._data[key];\n    this._data[key] = newVal;\n    this._changedEvent.trigger({ key, oldVal, newVal });\n  }\n}\n\nexport const blackboard = new Blackboard();\n"]}