{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/assets/FIB/FIB.ts"],"names":["_decorator","Component","instantiate","Button","Prefab","Layout","Label","AS","UIPopup","ReplicatedButton","ccclass","property","requireComponent","FIB","type","String","_button","awake","_insertChild","getComponentInChildren","addComponent","_addEventListeners","popup","node","children","on","EventType","CLICK","_onCrossClick","options","optionsContainer","getComponentsInChildren","seletion","forEach","opt","i","console","log","_clearOptions","string","optionLabel","j","length","active","_onCheckClick","lableAssigner","_onButtonClick","show","hide","correctIndex","_optionSelection","index","getComponent","addchild","optionPrefab","parent","mcqLable","btnLable"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node,instantiate, Button, UITransform, UI ,Prefab,Layout, Label} from 'cc';\nimport { AS } from \"db://as_framework/scripts//ASComponent\";\nimport { UIPopup } from \"db://as_framework/scripts/UIPopup\";\nimport { ReplicatedButton } from \"db://as_framework/scripts/ReplicatedButton\";\nimport { type } from 'os';\nconst { ccclass, property, requireComponent } = _decorator;\n\n@ccclass('FIB')\nexport class FIB extends AS(Component)  {\n  @property(UIPopup) popup: UIPopup|null = null;\n\n  @property(Prefab) private optionPrefab: Prefab = null;\n\n  private _button: Button | null = null;\n\n  @property(Layout) private optionsContainer: Layout | null = null;\n\n  @property({type: String}) private optionLabel: string[] = [];\n\n  @property private correctIndex: number = 0;\n\n  // @property(Node) private check=  Node||null;\n\n  // @property(Node) private =  Node||null;\n\n\n  awake()\n  { this._insertChild();\n    this._button = this.getComponentInChildren(Button);\n    this._button.addComponent(ReplicatedButton);\n    this._addEventListeners();\n\n    this.popup.node.children[0].addComponent(Button)\n    this.popup.node.children[0].addComponent(ReplicatedButton)\n    this.popup.node.children[0].on(Button.EventType.CLICK,()=>{\n      this._onCrossClick();\n    })\n\n\n\n    var options= this.optionsContainer.getComponentsInChildren(Button);\n    var seletion=null;\n\n    options.forEach((opt, i) => {\n      console.log(\"name\",i)\n       opt.node.on(Button.EventType.CLICK, ()=>{\n        this._clearOptions();\n        seletion=i;\n        this.popup.node.children[2].getComponentInChildren(Label).string=this.optionLabel[i];\n        for(let j=0;j<options.length;j++)\n        {\n          if(i==j) options[i].node.children[0].active=true;\n          else options[j].node.children[0].active=false;\n        }\n       },this)\n    });\n\n    this.popup.node.children[3].addComponent(Button)\n    this.popup.node.children[3].addComponent(ReplicatedButton)\n    this.popup.node.children[3].on(Button.EventType.CLICK,()=>{\n      this._onCheckClick(options,seletion);\n    },this)\n    this.lableAssigner();\n  }\n\n\n  private _addEventListeners() {\n      this._button.node.on(Button.EventType.CLICK, this._onButtonClick, this);\n  }\n\n\n  _onButtonClick()\n  {\n    this.popup.show();\n    this._clearOptions();\n  }\n\n\n  _onCrossClick()\n  {\n    this.popup.hide();\n\n  }\n\n  _clearOptions()\n  {\n    var options= this.optionsContainer.getComponentsInChildren(Button);\n    options.forEach((opt,j) => {\n      for(let i=0;i<this.optionLabel.length-1;i++)\n      opt.node.children[i].active=false;\n    });\n  }\n\n  _onCheckClick(options,seletion){\n\n    if(seletion!=null)\n    if(seletion==this.correctIndex){\n    options[seletion].node.children[1].active=true;\n    this._button.node.getComponentInChildren(Label).string= options[seletion].getComponentInChildren(Label).string;\n    //this._onCrossClick();\n    }\n    else\n    options[seletion].node.children[2].active=true;\n  }\n\n\n  _optionSelection(index)\n  {\n    console.log(\"running\",index)\n   this.popup.node.children[2].getComponent(Label).string=this.optionLabel[index];\n  }\n\n\n  _insertChild() {\n    for (let i = 0; i <this.optionLabel.length; i++) {\n      let addchild = instantiate(this.optionPrefab);\n      addchild.addComponent(Button)\n      addchild.addComponent(ReplicatedButton)\n      addchild.parent = this.optionsContainer.node;\n    }\n  }\n\n\n  lableAssigner() {\n    const mcqLable = this.popup.node.children[1].getComponentsInChildren(Label);\n    mcqLable.forEach((btnLable, i) => {\n      if (this.optionLabel.length <= i) {\n        btnLable.node.parent.active = false;\n      } else btnLable.string = this.optionLabel[i];\n    });\n  }\n}\n\n"]}