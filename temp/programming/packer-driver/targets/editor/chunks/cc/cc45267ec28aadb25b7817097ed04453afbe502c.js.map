{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/extensions/as_framework/framework/assets/scripts/UIView.ts"],"names":["Component","EventHandler","_decorator","AS","editorUtils","UIAnimationLibrary","ccclass","property","UIView","type","tooltip","displayOrder","enumType","showAnim","_showAnim","showDuration","_showDuration","hideAnim","_hideAnim","hideDuration","_hideDuration","isVisible","node","activeInHierarchy","value","getName","show","_isAnimating","emitEvents","aboutToShowEvents","emit","EventType","ABOUT_TO_SHOW","active","showCompleteEvents","SHOW_COMPLETE","hide","aboutToHideEvents","ABOUT_TO_HIDE","hideCompleteEvents","HIDE_COMPLETE","Animations","Array"],"mappings":"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","sourcesContent":["import { Component, EventHandler, _decorator } from \"cc\";\nimport { AS } from \"./ASComponent\";\nimport { editorUtils, UIAnimationLibrary } from \"./UIAnimLibrary\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"UIView\")\nexport class UIView extends AS(Component) {\n  static readonly EventType = {\n    ABOUT_TO_SHOW: \"about-to-show\",\n    SHOW_COMPLETE: \"show-complete\",\n    ABOUT_TO_HIDE: \"about-to-hide\",\n    HIDE_COMPLETE: \"hide-complete\",\n  };\n\n  static readonly Animations = editorUtils.enumType;\n\n  @property({\n    type: [EventHandler],\n    tooltip: \"The event handler to trigger when view about to show.\",\n    displayOrder: 30,\n  })\n  aboutToShowEvents = new Array<EventHandler>();\n\n  @property({\n    type: [EventHandler],\n    tooltip: \"The event handler to trigger when view is shown.\",\n    displayOrder: 31,\n  })\n  showCompleteEvents = new Array<EventHandler>();\n\n  @property({\n    type: [EventHandler],\n    tooltip: \"The event handler to trigger when view about to hide.\",\n    displayOrder: 32,\n  })\n  aboutToHideEvents = new Array<EventHandler>();\n\n  @property({\n    type: [EventHandler],\n    tooltip: \"The event handler to trigger when view is hidden.\",\n    displayOrder: 33,\n  })\n  hideCompleteEvents = new Array<EventHandler>();\n\n  @property protected _showAnim: keyof typeof UIAnimationLibrary = \"none\";\n\n  @property protected _hideAnim: keyof typeof UIAnimationLibrary = \"none\";\n\n  @property protected _showDuration = 0.4;\n\n  @property protected _hideDuration = 0.4;\n\n  @property({ type: editorUtils.enumType, tooltip: \"Choose show animation.\" }) get showAnim() {\n    return editorUtils.enumType[this._showAnim];\n  }\n\n  @property get showDuration() {\n    return this._showDuration;\n  }\n\n  @property({ type: editorUtils.enumType, tooltip: \"Choose hide animation.\" }) get hideAnim() {\n    return editorUtils.enumType[this._hideAnim];\n  }\n\n  @property get hideDuration() {\n    return this._hideDuration;\n  }\n\n  get isVisible() {\n    return this.node.activeInHierarchy;\n  }\n\n  set showAnim(value) {\n    this._showAnim = editorUtils.getName(value);\n  }\n\n  set showDuration(value) {\n    this._showDuration = value;\n  }\n\n  set hideAnim(value) {\n    this._hideAnim = editorUtils.getName(value);\n  }\n\n  set hideDuration(value) {\n    this._hideDuration = value;\n  }\n\n  async show() {\n    if (this.isVisible || this._isAnimating) return;\n    EventHandler.emitEvents(this.aboutToShowEvents, this);\n    this.node.emit(UIView.EventType.ABOUT_TO_SHOW, this);\n    this._isAnimating = true;\n    this.node.active = true;\n    await UIAnimationLibrary[this._showAnim](this.node, this._showDuration);\n    this._isAnimating = false;\n    EventHandler.emitEvents(this.showCompleteEvents, this);\n    this.node.emit(UIView.EventType.SHOW_COMPLETE, this);\n  }\n\n  async hide() {\n    if (!this.isVisible || this._isAnimating) return;\n    EventHandler.emitEvents(this.aboutToHideEvents, this);\n    this.node.emit(UIView.EventType.ABOUT_TO_HIDE, this);\n    this._isAnimating = true;\n    await UIAnimationLibrary[this._hideAnim](this.node, this._hideDuration);\n    this.node.active = false;\n    this._isAnimating = false;\n    EventHandler.emitEvents(this.hideCompleteEvents, this);\n    this.node.emit(UIView.EventType.HIDE_COMPLETE, this);\n  }\n}\n"]}