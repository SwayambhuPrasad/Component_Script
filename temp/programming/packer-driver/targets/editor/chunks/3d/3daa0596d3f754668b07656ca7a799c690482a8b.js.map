{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/assets/MCQ/script/MCQ.ts"],"names":["_decorator","Component","Button","Label","AS","UIAnimationLibrary","ReplicatedButton","ccclass","property","requireComponent","AnswerType","MCQ","type","String","_selection","answer","awake","insertButtonsComp","node","children","forEach","child","i","addComponent","choiceButtons","getComponentsInChildren","btn","name","push","on","EventType","CLICK","checkSelection","active","lableAssigner","checkFeedback","mcqLable","btnLable","optionLabel","length","parent","string","statusIndex","console","log","animation","flash"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node,instantiate, Button, UITransform, UI, Enum ,Label} from 'cc';\nimport { AS } from \"db://as_framework/scripts//ASComponent\";\nimport { UIAnimationLibrary } from \"db://as_framework/scripts/UIAnimLibrary\";\nimport { ReplicatedButton } from \"db://as_framework/scripts/ReplicatedButton\";\nimport { toUSVString } from 'util';\nimport { threadId } from 'worker_threads';\nconst { ccclass, property, requireComponent } = _decorator;\n\nenum AnswerType {\n    SINGLE_CORRECT,\n    MULTIPLE_CORRECT\n}\n\n@ccclass('MCQ')\nexport class MCQ extends AS(Component) {\n\n    //@property({type: Enum(AnswerType)}) private answerType = AnswerType.SINGLE_CORRECT;\n\n   // @property({visible: function (this: MCQ) {return this.answerType === AnswerType.SINGLE_CORRECT}}) private x;\n    private _selection =[ ] ;\n    private answer = [-1,1,1,-1];\n    @property({type: String})\n    private optionLabel: string[] = [];\n    awake() {\n        const insertButtonsComp = this.node.children;\n        insertButtonsComp.forEach((child, i) => {\n                child.addComponent(Button);\n                child.addComponent(ReplicatedButton);\n        })\n        const choiceButtons = this.node.getComponentsInChildren(Button);\n        choiceButtons.forEach((btn,i) => {\n            if(btn.node.name!=\"check\")this._selection.push(-1);\n            \n            btn.node.on(Button.EventType.CLICK,async()=>{\n                if(btn.node.name==\"check\") {\n                    this.checkSelection();\n                    return;\n                }\n                if(this._selection[i]==-1) {\n                    btn.node.children[0].active =true; \n                    this._selection[i]=1;\n                }\n                else{\n                    btn.node.children[0].active=false;\n                    this._selection[i]=-1;}\n            })\n        });    \n        this.lableAssigner();\n    }\n    checkSelection()\n    {\n        if(this._selection==this.answer){\n            this.checkFeedback(1)\n        }else{\n            this.checkFeedback(2)\n        }\n    }\n    lableAssigner()\n    {\n     const mcqLable=  this.node.getComponentsInChildren(Label);  \n     mcqLable.forEach((btnLable,i) => {\n      if(this.optionLabel.length<=i){\n        btnLable.node.parent.active=false;\n      }\n      else\n      btnLable.string=this.optionLabel[i];\n     });\n    }\n    checkFeedback(statusIndex)\n    {\n        console.log(\"running\",statusIndex);\n        const btn= this.node.children;\n        for(let i=0;i<this._selection.length;i++){\n            //btn[i].children[statusIndex].addComponent(UIAnim);\n            if(this._selection[i]==1){\n                let animation=btn[i].children[statusIndex]\n                UIAnimationLibrary.flash(btn[i].children[statusIndex],2);\n            }\n        }\n    }\n}\n\n"]}