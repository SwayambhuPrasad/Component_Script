{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/assets/Video/Video.ts"],"names":["_decorator","Component","Button","VideoPlayer","Node","AS","ReplicatedButton","ccclass","property","Video","Boolean","awake","buttonVisible","button","addComponent","_addEventListeners","node","parent","active","autoPlay","videoPlayer","getComponent","loop","_onButtonClick","on","EventType","CLICK","schedule","play","videoClip","clip"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;;AAC5CC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,gB,iBAAAA,gB;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;uBAGjBS,K,WADZF,OAAO,CAAC,OAAD,C,UAEHC,QAAQ,CAACN,MAAD,C,UACRM,QAAQ,CAACJ,IAAD,C,UACRI,QAAQ,CAACE,OAAD,C,UACRF,QAAQ,CAACE,OAAD,C,2BALb,MACaD,KADb,SAC2B;AAAA;AAAA,oBAAGR,SAAH,CAD3B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAKrCU,QAAAA,KAAK,GAAE;AAEH,cAAG,KAAKC,aAAR,EAAuB;AACnB,iBAAKC,MAAL,CAAYC,YAAZ;AAAA;AAAA;;AACA,iBAAKC,kBAAL;AACH,WAHD,MAII;AACA,iBAAKF,MAAL,CAAYG,IAAZ,CAAiBC,MAAjB,CAAwBC,MAAxB,GAAiC,KAAjC;AACA,iBAAKC,QAAL,GAAgB,IAAhB;AACA,iBAAKC,WAAL,CAAiBC,YAAjB,CAA8BlB,WAA9B,EAA2CmB,IAA3C,GAAkD,IAAlD;AACH;;AACD,cAAG,KAAKH,QAAL,IAAiB,KAAKH,IAAL,CAAUE,MAA9B,EACA;AAAI,iBAAKK,cAAL;AACH;AACJ;;AACOR,QAAAA,kBAAkB,GAAG;AACzB,eAAKF,MAAL,CAAYG,IAAZ,CAAiBQ,EAAjB,CAAoBtB,MAAM,CAACuB,SAAP,CAAiBC,KAArC,EAA4C,KAAKH,cAAjD,EAAiE,IAAjE;AACH;;AACOA,QAAAA,cAAc,GAAG;AACrB,eAAKI,QAAL,CAAc,YAAY;AAAE,iBAAKP,WAAL,CAAiBC,YAAjB,CAA8BlB,WAA9B,EAA2CyB,IAA3C;AAAmD,WAA/E,EAAiF,GAAjF;AAEH;;AAEY,YAATC,SAAS,GAAE;AACX,iBAAO,KAAKT,WAAL,CAAiBC,YAAjB,CAA8BlB,WAA9B,EAA2C2B,IAAlD;AACH;;AAEY,YAATD,SAAS,CAACC,IAAD,EAAM;AACf,eAAKV,WAAL,CAAiBC,YAAjB,CAA8BlB,WAA9B,EAA2C2B,IAA3C,GAAkDA,IAAlD;AACH;;AAlCoC,O;;;;;iBACK,I;;;;;;;iBACC,I;;;;;;;iBACC,I;;;;;;;iBACL,K","sourcesContent":["import { _decorator, Component, Button, VideoPlayer, Node} from 'cc';\nimport { AS } from \"db://as_framework/scripts/ASComponent\";\nimport { ReplicatedButton } from \"db://as_framework/scripts/ReplicatedButton\";\nconst { ccclass, property } = _decorator;\n\n@ccclass('Video')\nexport class Video extends AS(Component) {\n    @property(Button) button: Button | null = null;\n    @property(Node) videoPlayer: Node | null = null;\n    @property(Boolean) buttonVisible: Boolean = true;\n    @property(Boolean) autoPlay: Boolean = false;\n    awake(){\n\n        if(this.buttonVisible) {\n            this.button.addComponent(ReplicatedButton);\n            this._addEventListeners();\n        }\n        else{\n            this.button.node.parent.active = false;\n            this.autoPlay = true;\n            this.videoPlayer.getComponent(VideoPlayer).loop = true;\n        }\n        if(this.autoPlay && this.node.active)\n        {   this._onButtonClick();\n        }\n    }\n    private _addEventListeners() {\n        this.button.node.on(Button.EventType.CLICK, this._onButtonClick, this);\n    }\n    private _onButtonClick() {        \n        this.schedule(function () { this.videoPlayer.getComponent(VideoPlayer).play() }, 0.5);\n\n    }\n    \n    get videoClip(){\n        return this.videoPlayer.getComponent(VideoPlayer).clip;\n    }\n\n    set videoClip(clip){\n        this.videoPlayer.getComponent(VideoPlayer).clip = clip;\n    }\n\n}\n\n"]}