{"version":3,"sources":["file:///Users/swayambhupanda/Documents/GitHub/applet-framework-demo/assets/AddImage/AddImage.ts"],"names":["_decorator","Component","instantiate","Button","AS","UIPopup","ccclass","property","requireComponent","AddImage","_button","awake","getComponent","_addEventListeners","choiceButtons","popup","getComponentsInChildren","forEach","btn","i","node","on","EventType","CLICK","isVisible","hide","parent","position","_onButtonClick","_removeEventListeners","off","show"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAgBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;AACzCC,MAAAA,E,iBAAAA,E;;AACAC,MAAAA,O,iBAAAA,O;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA,QAAX;AAAqBC,QAAAA;AAArB,O,GAA0CR,U;;0BAInCS,Q,WAFZH,OAAO,CAAC,UAAD,C,UACPE,gBAAgB,CAACL,MAAD,C,UAEZI,QAAQ;AAAA;AAAA,6B,0CAHb,MAEaE,QAFb,SAE8B;AAAA;AAAA,oBAAGR,SAAH,CAF9B,CAE4C;AAAA;AAAA;;AAAA;;AAAA,eAGhCS,OAHgC,GAGP,IAHO;AAAA;;AAKxCC,QAAAA,KAAK,GAAG;AACJ,eAAKD,OAAL,GAAe,KAAKE,YAAL,CAAkBT,MAAlB,CAAf;;AACA,eAAKU,kBAAL;;AACA,gBAAMC,aAAa,GAAG,KAAKC,KAAL,CAAWC,uBAAX,CAAmCb,MAAnC,CAAtB;AACAW,UAAAA,aAAa,CAACG,OAAd,CAAsB,CAACC,GAAD,EAAMC,CAAN,KAAY;AAC9BD,YAAAA,GAAG,CAACE,IAAJ,CAASC,EAAT,CAAYlB,MAAM,CAACmB,SAAP,CAAiBC,KAA7B,EAAoC,YAAY;AAC5C,kBAAI,KAAKR,KAAL,CAAWS,SAAf,EAA0B,MAAM,KAAKT,KAAL,CAAWU,IAAX,EAAN;AAC1B,kBAAIL,IAAI,GAAGlB,WAAW,CAACgB,GAAG,CAACE,IAAL,CAAtB;AACAA,cAAAA,IAAI,CAACM,MAAL,GAAY,KAAKN,IAAjB;AACAA,cAAAA,IAAI,CAACO,QAAL,GAAc,KAAKP,IAAL,CAAUO,QAAxB,CAJ4C,CAK5C;AACH,aAND;AAOH,WARD;AASH;;AAEOd,QAAAA,kBAAkB,GAAG;AACzB,eAAKH,OAAL,CAAaU,IAAb,CAAkBC,EAAlB,CAAqBlB,MAAM,CAACmB,SAAP,CAAiBC,KAAtC,EAA6C,KAAKK,cAAlD,EAAkE,IAAlE;AACH;;AAEOC,QAAAA,qBAAqB,GAAG;AAC5B,eAAKnB,OAAL,CAAaU,IAAb,CAAkBU,GAAlB,CAAsB3B,MAAM,CAACmB,SAAP,CAAiBC,KAAvC,EAA8C,KAAKK,cAAnD,EAAmE,IAAnE;AACH;;AAEOA,QAAAA,cAAc,GAAG;AACrB,eAAKb,KAAL,CAAWgB,IAAX;AACH;;AA9BuC,O;;;;;iBACC,I","sourcesContent":["import { _decorator, Component, Node,instantiate, Button } from 'cc';\nimport { AS } from \"db://as_framework/scripts//ASComponent\";\nimport { UIPopup } from \"db://as_framework/scripts/UIPopup\";\nconst { ccclass, property, requireComponent } = _decorator;\n\n@ccclass('AddImage')\n@requireComponent(Button)\nexport class AddImage extends AS(Component) {\n    @property(UIPopup) popup: UIPopup|null = null;\n\n    private _button: Button | null = null;\n\n    awake() {\n        this._button = this.getComponent(Button);\n        this._addEventListeners();\n        const choiceButtons = this.popup.getComponentsInChildren(Button);\n        choiceButtons.forEach((btn, i) => {\n            btn.node.on(Button.EventType.CLICK, async () => {\n                if (this.popup.isVisible) await this.popup.hide();\n                let node = instantiate(btn.node);\n                node.parent=this.node;\n                node.position=this.node.position;\n                // take i and get the image to add.\n            })\n        })\n    }\n\n    private _addEventListeners() {\n        this._button.node.on(Button.EventType.CLICK, this._onButtonClick, this);\n    }\n\n    private _removeEventListeners() {\n        this._button.node.off(Button.EventType.CLICK, this._onButtonClick, this);\n    }\n\n    private _onButtonClick() {        \n        this.popup.show();\n    }\n}\n\n"]}